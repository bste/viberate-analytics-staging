function starsOnScrollAnimation(e){let t=$(window).height(),i=$(document).scrollTop(),n=$(e).offset().top,s=lottieAnimationStars.totalFrames,a=n-t+100,o=0,l=100*Math.abs((a-i)/1400);o=i>=a?i>a+1400?100:Math.round(l/s*100):0,lottieAnimationStars.goToAndStop(o,!0)}function changePaymentTimeframe(e,t){let i=['<span class="old-price">189$</span><span class="currency">$</span>117<small>/month</small>','<span class="old-price">229$</span><span class="currency">$</span>140<small>/month</small>'],n=['<span class="old-price">169€</span><span class="currency">€</span>108<small>/month</small>','<span class="old-price">199€</span><span class="currency">€</span>129<small>/month</small>'],s=["2 months FREE","Get 2 months FREE"],a=["Billed annually","Billed monthly"];"year"==e?("eur"==t?$(".js-billed-price").html(n[0]):$(".js-billed-price").html(i[0]),$(".js-billed-timeframe").text(a[0]),$(".js-billed-benefit").text(s[0])):("eur"==t?$(".js-billed-price").html(n[1]):$(".js-billed-price").html(i[1]),$(".js-billed-timeframe").text(a[1]),$(".js-billed-benefit").text(s[1]))}function transitionBg(){$(".js-transition-bg").isOnScreen()?$("body").addClass("bg-dark"):$("body").removeClass("bg-dark")}var lottieAnimationGraph,lottieAnimationStars,swiperFeatureReviews,windowWidth=window.innerWidth,oldWindowWidth=windowWidth,currency="usd",timeframe="year",desktopAnimationOffset=windowWidth<750?0:150,anim1=!0,anim2=!0,anim3_0=!0,anim3_1=!0,anim3_2=!0,anim3_3=!0,anim3_4=!0,anim3_5=!0,anim4=!0,anim5=!0,anim6=!0,anim7=!0,anim9_0=!0,anim9_1=!0,anim10_0=!0,anim10_1=!0,lottieAnimationStarsLoaded=!1;$.easing.custom=function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t+i:-n/2*(--t*(t-2)-1)+i},$.fn.isOnScreen=function(e,t){null==t&&(t=0);var i=$(window),n={top:i.scrollTop(),left:i.scrollLeft()};n.right=n.left+i.width(),n.bottom=e?n.top+i.height()/1.5:n.top+(i.height()-t);var s=this.offset();return s.right=s.left+this.outerWidth(),s.bottom=s.top+this.outerHeight(),!(n.right<s.left||n.left>s.right||n.bottom<s.top||n.top>s.bottom)},$(document).on("click",'a[href^="#"]',function(e){e.preventDefault(),$("html, body").animate({scrollTop:$($.attr(this,"href")).offset().top},1e3,"custom")}),$(document).ready(function(){$.get("https://ipapi.co/currency/",function(e){currency=e.toLowerCase(),changePaymentTimeframe(timeframe,currency)}),lottieAnimationStars=lottie.loadAnimation({container:document.getElementById("lottie-stars"),renderer:"svg",loop:!1,autoplay:!1,path:"https://assets9.lottiefiles.com/packages/lf20_jqpkvasn.json"}),lottieAnimationGraph=lottie.loadAnimation({container:document.getElementById("lottie-graph"),renderer:"svg",loop:!0,autoplay:!1,path:"https://assets7.lottiefiles.com/packages/lf20_jfcdgkyz.json"}),lottieAnimationStars.addEventListener("DOMLoaded",()=>{lottieAnimationStarsLoaded=!0}),setTimeout(function(){lottieAnimationGraph.play()},2e3),swiperFeatureReviews=new Swiper(".js-swiper-feature-reviews",{spaceBetween:24,roundLengths:!0,slidesPerView:"auto",freeMode:!1,loop:!1,centeredSlides:!0,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{320:{loop:!1},768:{loop:!0,centeredSlides:!1,freeMode:!1,spaceBetween:24,slidesPerView:2,roundLengths:!0},1024:{loop:!0,spaceBetween:48,slidesPerView:3,centeredSlides:!0,freeMode:!1,roundLengths:!0}},on:{breakpoint:function(){let e=window.innerWidth;e<767&&oldWindowWidth>767?(this.loopDestroy(),this.updateSlides(),this.updateSlidesClasses()):e>767&&oldWindowWidth<767&&(this.loopCreate(),this.updateSlides(),this.updateSlidesClasses()),oldWindowWidth=e}}}),$("body").on("click",".js-btn-toggle-monthly",function(){$(".js-subscription-toggle").removeClass("active"),$(".js-custom-toggle-payment").prop("checked",!1),changePaymentTimeframe(timeframe="month",currency)}),$("body").on("click",".js-btn-toggle-yearly",function(){$(".js-subscription-toggle").addClass("active"),$(".js-custom-toggle-payment").prop("checked",!0),changePaymentTimeframe(timeframe="year",currency)}),$("body").on("click",".js-custom-toggle-payment",function(){$(".js-subscription-toggle").toggleClass("active"),changePaymentTimeframe(timeframe="year"==timeframe?"month":"year",currency)}),$("body").on("click",".js-btn-pricing-plan-comparison",function(){$(".js-compare-plan-table").slideToggle(),$(this).toggleClass("open")}),$("body").on("click",".js-problem-solving-card",function(){let e=$(this),t=e.attr("data-item");e.hasClass("open")?(e.toggleClass("open"),e.find(".js-hotspot-wrapper").slideToggle("fast")):(e.closest(".problem-solving-main").find(".open").removeClass("open initial-open").find(".js-hotspot-wrapper").slideUp("fast"),e.toggleClass("open"),e.find(".js-hotspot-wrapper").slideToggle("fast")),e.closest(".problem-solving-main").find(".js-problem-solving-card").removeClass("initial-open"),$(".js-problem-solving-main-gradient").removeClass("g-0 g-1 g-2 g-3").addClass("g-"+t),$(".js-problem-category").removeClass("active").eq(t).addClass("active")}),$("body").on("click",".js-problem-category",function(){let e=$(this),t=$(".js-problem-category"),i=e.index(),n=$(".js-problem-solving-card");t.removeClass("active"),n.removeClass("open initial-open"),e.toggleClass("active"),$('.js-problem-solving-card[data-item="'+i+'"]').addClass("open"),$(".js-problem-solving-main-gradient").removeClass("g-0 g-1 g-2 g-3").addClass("g-"+i)}),$(".js-transition-bg").length&&transitionBg("js-transition-bg"),$("body").on("click",".js-video",function(){let e=$(this).get(0);return e.paused?(e.play(),$(".js-btn-video").fadeOut()):(e.pause(),$(".js-btn-video").fadeIn()),!1}),$("body").on("click",".js-prev",function(){$(".swiper-button-prev").trigger("click")}),$("body").on("click",".js-next",function(){$(".swiper-button-next").trigger("click")}),$("body").on("click",".js-faq-item",function(){let e=$(this);e.hasClass("open")?e.toggleClass("open").find(".js-faq-item-content").slideToggle().css("opacity",1).animate({opacity:0},{queue:!1,duration:800}):e.toggleClass("open").find(".js-faq-item-content").slideToggle().css("opacity",0).animate({opacity:1},{queue:!1,duration:800})}),$("body").on("click",".js-footer-menu-header",function(){$(this).parent().toggleClass("open")})}),$(window).scroll(function(){$(".section-why-viberate .js-animated-title").isOnScreen(!0)&&anim1&&($(".section-why-viberate .js-animated-title").addClass("animated"),anim1=!1),$(".section-get-important-data .js-fade-in-slide-up").isOnScreen(!1,0+desktopAnimationOffset)&&anim2&&($(".section-get-important-data .js-fade-in-slide-up").addClass("animated"),anim2=!1),$(".section-get-important-data .js-fade-in").each(function(e){$(this).isOnScreen(!1,100+desktopAnimationOffset)&&window["anim3_"+e]&&($(this).addClass("animated"),window["anim3_"+e]=!1)}),$(".section-solving-your-problems .js-fade-in-slide-up").isOnScreen(!1,100+desktopAnimationOffset)&&anim4&&($(".section-solving-your-problems .js-fade-in-slide-up").addClass("animated"),anim4=!1),$(".section-payment-landing .js-fade-in-slide-up").isOnScreen(!1,50+desktopAnimationOffset)&&anim5&&($(".section-payment-landing .js-fade-in-slide-up").addClass("animated"),anim5=!1),$(".section-payment-landing .js-payment-plan-grid").isOnScreen(!0)&&anim6&&($(".section-payment-landing .js-payment-plan-grid").addClass("animated"),anim6=!1),$(".section-reviews .lottie-container").isOnScreen(!1,0+desktopAnimationOffset)&&anim7&&lottieAnimationStarsLoaded&&(lottieAnimationStars.play(),anim7=!1),$(".section-breaking-through .js-fade-in-slide-up").each(function(e){$(this).isOnScreen(!1,0+desktopAnimationOffset)&&window["anim9_"+e]&&($(this).addClass("animated"),window["anim9_"+e]=!1)}),$(".js-transition-bg").length&&transitionBg("js-transition-bg"),$(".section-breaking-through .mobile-icons.js-slide-up").isOnScreen(!1,0+desktopAnimationOffset)&&anim10_0&&($(".section-breaking-through .mobile-icons.js-slide-up").addClass("animated"),anim10_0=!1),$(".section-breaking-through .bg-icons.js-slide-up").isOnScreen(!0,0+desktopAnimationOffset)&&anim10_1&&($(".section-breaking-through .bg-icons.js-slide-up").addClass("animated"),anim10_1=!1),$(".js-footer").isOnScreen(!1,0)&&windowWidth<700?$("body").addClass("footer-visible"):$("body").removeClass("footer-visible")});